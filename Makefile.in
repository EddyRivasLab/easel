################################################################
# Makefile for Easel
# SVN $Id$

CC      = @CC@
CFLAGS  = @CFLAGS@
AR      = @AR@ rcv
LN      = ln
RANLIB  = @RANLIB@

HEADERS = \
	alphabet.h\
	bioparse_paml.h\
	dirichlet.h\
	dmatrix.h\
	easel.h\
	esl.h\
	gamma.h\
	getopts.h\
	interface_gsl.h\
	interface_lapack.h\
	keyhash.h\
	msa.h\
	parse.h\
	random.h\
	ratematrix.h\
	regexp.h\
	sqio.h\
	stack.h\
	vectorops.h\
	wuss.h

OBJS    = \
	alphabet.o\
	bioparse_paml.o\
	dirichlet.o\
	dmatrix.o\
	easel.o\
	gamma.o\
	getopts.o\
	interface_gsl.o\
	interface_lapack.o\
	keyhash.o\
	msa.o\
	parse.o\
	random.o\
	ratematrix.o\
	regexp.o\
	sqio.o\
	stack.o\
	vectorops.o\
	wuss.o

all: libeasel.a

.c.o:
	${CC} -I. ${CFLAGS} ${DEFS} -c $<		

libeasel.a: $(OBJS)
	$(AR) libeasel.a $(OBJS)
	$(RANLIB) libeasel.a
	chmod 644 libeasel.a

symlinks:
	mkdir -p easel
	for header in ${HEADERS}; do\
	   (cd easel; ${LN} -s ../$$header .);\
	done

clean:
	-rm -f ${OBJS} libeasel.a
	-rm -f *~ TAGS
	-rm -f core.[0-9]*
	-rm -f config.log config.status
	-rm -f example test

distclean:
	(cd documentation; make distclean)
	(cd miniapps; make distclean)
	make clean
	-rm easel/*.h
	-rm easel.h
	-rm -rf autom4te.cache
	-rm Makefile

tags:
	etags *.[ch] Makefile



# magic SVN for setting keyword ID replacement on a new module foo:
# svn propset svn:keywords "Id" foo.[ch]

################################################################
# @LICENSE@
################################################################